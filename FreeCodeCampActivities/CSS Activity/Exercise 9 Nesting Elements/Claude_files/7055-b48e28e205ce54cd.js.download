"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7055],{87055:function(e,t,n){n.d(t,{k:function(){return Y},Z:function(){return ClaudeChat}});var r=n(58882),s=n(27573),a=n(80028),i=n(82021),l=n(84226),o=n(65679),c=n(90643),d=n(13676),u=n(89016),h=n(55616),m=n(33039),p=n(64949),x=n(99738),f=n(30256),b=n(32859),j=n(7653),g=n(83127),v=n(63942),w=n(24006),_=n(92867),y=n(49377),C=n(35476);function _templateObject(){let e=(0,r._)(["\n  fixed\n  z-[5] /* Ensure header stays above chat content */\n  left-0\n  right-0\n  top-0\n  pl-14\n  pr-11\n  md:text-left\n  md:pr-[10rem]\n  lg:pr-14\n  lg:text-center\n  pt-4\n  lg:pt-2\n  pb-4\n  bg-gradient-to-b\n  from-bg-200\n  from-25%\n  to-bg-200/0\n  pointer-events-none\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n  absolute\n  inset-0\n  -bottom-8\n  backdrop-blur-xl\n  pointer-events-none\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["\n  -webkit-mask-image: linear-gradient(black 25%, transparent);\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,r._)(["\n  absolute\n  top-1/2\n  -translate-y-full\n  rounded-full\n  -inset-x-16\n  h-[200%]\n  -z-10\n  pointer-events-none\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,r._)(["\n  background-image: radial-gradient(\n    closest-side,\n    hsl(var(--bg-200)),\n    hsl(var(--bg-200) / 0%)\n  );\n"]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,r._)(["\n  inline-flex\n  items-center\n  gap-1\n  font-semibold\n  pointer-events-auto\n"]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=(0,r._)(["\n  text-shadow: 0 0 8px hsl(var(--bg-200) / 80%);\n"]);return _templateObject6=function(){return e},e}function ChatHeader(e){let{uuid:t,name:n,setName:r}=e,i=(0,o.SM)(),{mutate:l}=(0,a.j1)(),c=(0,j.useRef)(null),[u,h]=(0,j.useState)(!1),[m,p]=(0,j.useState)(!1);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(N,{children:[(0,s.jsx)(O,{}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Z,{}),(0,s.jsxs)(d.Lt,{trigger:(0,s.jsxs)(S,{"data-testid":"chat-menu-trigger",children:[(0,s.jsx)("div",{className:"flex-1",style:{minWidth:0},children:(0,s.jsx)("div",{className:"truncate",children:n.length>0?n:"Untitled"})}),(0,s.jsx)(y.Z,{size:12,weight:"bold"})]}),children:[(0,s.jsx)(d.hP,{"data-testid":"rename-chat-trigger",onSelect:()=>h(!0),children:"Rename"}),(0,s.jsx)(d.hP,{"data-testid":"delete-chat-trigger",onSelect:()=>p(!0),children:"Delete"})]})]}),(0,s.jsx)(C.p,{isOpen:m,onClose:()=>{p(!1)},onConfirm:()=>{l(t),p(!1),i.push("/chats")}}),(0,s.jsx)(_.ZP,{isOpen:u,onClose:()=>h(!1),title:"Rename chat",children:(0,s.jsxs)("form",{className:"grid gap-2",onSubmit:e=>{e.preventDefault(),c.current&&(r(c.current.value),h(!1))},children:[(0,s.jsx)(w.y,{"data-testid":"name-chat",ref:c,defaultValue:n}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(_.mH,{variant:"secondary",type:"button",onClick:()=>h(!1),children:"Cancel"}),(0,s.jsx)(_.mH,{"data-testid":"name-chat-submit",type:"submit",children:"Save"})]})]})})]})})}let N=h.Z.div(_templateObject()),O=h.Z.div(_templateObject1()).css(_templateObject2()),Z=h.Z.div(_templateObject3()).css(_templateObject4()),S=h.Z.button(_templateObject5()).css(_templateObject6());var k=n(24353),z=n(70095),F=n(55880),P=n(61573),D=n(419),M=n(71407),A=n(85426),H=n(47277),E=n(83078),Chat_SidebarDrawer=e=>{let{isOpen:t,children:n}=e,[r,a]=(0,j.useState)(window.innerWidth),i=(0,j.useRef)(null);return(0,j.useEffect)(()=>{let handleResize=()=>a(window.innerWidth);return window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)},[]),(0,j.useEffect)(()=>{t&&setTimeout(()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.focus()},50)},[t]),(0,s.jsx)(H.M,{children:t&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(E.E.div,{initial:{width:"0px"},animate:{width:"auto",transition:{delay:.1}},exit:{width:"0px",transition:{delay:.05,duration:.35}},transition:{ease:"easeOut",duration:.25},children:[(0,s.jsx)("div",{className:"lg:w-[400px]"}),(0,s.jsx)(E.E.div,{className:"fixed z-[5] pt-16 md:pb-4 md:px-4 w-full md:w-[400px] right-0 h-full flex flex-col",...r<768?{initial:{translateY:"100%",scaleX:.925,opacity:0},animate:{translateY:"0%",scaleX:1,opacity:1,transition:{type:"spring",stiffness:400,damping:30,delay:.1,opacity:{duration:.15}}},exit:{opacity:0,translateY:"100%",transition:{duration:.2,opacity:{delay:.1}}}}:{initial:{translateX:"100%",scaleX:.925,opacity:0},animate:{translateX:"0%",scaleX:1,opacity:1,transition:{type:"spring",stiffness:400,damping:30,delay:.1,opacity:{duration:.15}}},exit:{opacity:0,translateX:"100%",transition:{duration:.3,opacity:{delay:.1}}}},children:(0,s.jsx)("div",{className:"bg-bg-100 overflow-hidden rounded-xl border-0.5 border-border-300 drop-shadow-md flex-1",ref:i,tabIndex:0,children:(0,s.jsx)(E.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},exit:{opacity:0,transition:{duration:0}},transition:{ease:"linear",duration:.25},className:"flex flex-col h-full",children:n})})})]})})})},L=n(45367),I=n(19627),R=n(82202);function getDetailsFromAttachment(e){return{title:(()=>{if("html"===e.file_type){let t=e.extracted_content.match(/<title>(.*?)<\/title>/);return t?t[1]:e.file_name}return e.file_name})(),metaData:(()=>{var t;let n="".concat(e.extracted_content.split("\n").length," extracted lines"),r=(t=e.file_size)<1048576?(t/1024).toFixed(2)+" KB":(t/1048576).toFixed(2)+" MB";if("html"===e.file_type){let t=e.file_name.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\\/\n?]+)/gim);return(0,s.jsxs)("span",{children:[n," • ",(0,s.jsx)(()=>{if(!t)return(0,s.jsx)(s.Fragment,{children:e.file_name});{let n=t[0].replace("www.","");return(0,s.jsx)("a",{className:"hover:underline underline-offset-1",href:"https://".concat(e.file_name),target:"_blank",onClick:e=>e.stopPropagation(),rel:"noreferrer nofollow",children:n})}},{})]})}return(0,s.jsxs)("span",{children:[n," • ",r]})})()}}var Content_ContentCell=e=>{let{attachment:t,onClick:n}=e,r=(0,j.useMemo)(()=>getDetailsFromAttachment(t),[t]);return(0,s.jsx)("div",{className:"flex border border-border-300 rounded-lg bg-bg-000 hover:bg-bg-00 hover:border-border-200 hover:drop-shadow-sm active:scale-95 transition-all overflow-hidden pointer-events-none",children:(0,s.jsxs)("button",{onClick:n,className:"flex flex-1  items-stretch text-left pointer-events-auto",children:[(0,s.jsx)("div",{className:"bg-accent-secondary-100 text-oncolor-100 w-14 flex justify-center items-center",children:(0,s.jsx)(()=>{switch(t.file_type){case"pdf":return(0,s.jsx)(L.Z,{size:24});case"html":return(0,s.jsx)(I.Z,{size:24});default:return(0,s.jsx)(R.Z,{size:24})}},{})}),(0,s.jsxs)("div",{className:"flex-1 pl-3 pr-2 py-3 padding",style:{minWidth:"0px"},children:[(0,s.jsx)("div",{className:"font-medium leading-tight break-words line-clamp-2",children:r.title}),(0,s.jsx)("div",{className:"text-xs text-text-400",children:r.metaData})]})]})})};function ContentSidebar_templateObject(){let e=(0,r._)(["\n  text-sm\n  tracking-tight\n  leading-5\n  prose\n  whitespace-pre-wrap\n"]);return ContentSidebar_templateObject=function(){return e},e}let ContentSidebarButton=e=>{let{isOpen:t,setIsOpen:n,attachmentCount:r}=e;return(0,s.jsx)(F.Z,{text:"Chat content",side:"bottom",children:(0,s.jsxs)(u.Z,{variant:"ghost",size:"icon_lg",option:"rounded",state:t?"active":null,className:"relative",onClick:()=>n(!t),children:[r>0&&(0,s.jsx)("div",{className:"absolute -top-0.5 -right-0.5 px-[0.15rem] min-w-[1.15rem] h-[1.15rem] text-center border-0.5 border-border-300 flex items-center justify-center bg-bg-400 rounded-full font-medium text-[0.75rem] text-text-400",children:r<10?r:"9+"}),(0,s.jsx)(x.Z,{size:20})]})})},ContentSidebar=e=>{let{isOpen:t,setIsOpen:n,attachments:r}=e,[a,i]=(0,j.useState)(null),l=(0,j.useMemo)(()=>null!==a?r[a]:null,[r,a]);return(0,s.jsx)(Chat_SidebarDrawer,{isOpen:t,children:l?(0,s.jsx)(AttachmentDetail,{goBack:()=>{i(null)},attachment:l}):(0,s.jsx)(AttachmentList,{attachments:r,setSelectedAttachmentIndex:i,setIsOpen:n})})},AttachmentList=e=>{let{attachments:t,setSelectedAttachmentIndex:n,setIsOpen:r}=e;return(0,s.jsxs)("div",{className:"pt-3 pb-4 px-5",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("h2",{className:"flex-1 font-styrene-display text-lg font-medium",children:"Chat content"}),(0,s.jsx)(u.Z,{variant:"ghost",size:"icon",className:"-mr-2",onClick:()=>r(!1),children:(0,s.jsx)(P.Z,{size:20})})]}),(0,s.jsx)("ul",{className:"mt-2 flex flex-col gap-2",children:t.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsx)(Content_ContentCell,{attachment:e,onClick:()=>n(t)})},t))})]})},AttachmentDetail=e=>{let{attachment:t,goBack:n}=e,r=(0,j.useMemo)(()=>A.sanitize(t.extracted_content,{WHOLE_DOCUMENT:!0}),[t]),a=(0,j.useMemo)(()=>getDetailsFromAttachment(t),[t]),i=(0,j.useMemo)(()=>{switch(t.file_type){case"pdf":return"PDF content";case"html":return"Web content";default:return"File content"}},[t]);return(0,s.jsxs)("div",{className:" pt-3 pl-5 pb-1 flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex gap-1 pr-5 sticky items-center mb-2",children:[(0,s.jsx)(u.Z,{onClick:n,variant:"ghost",size:"icon",className:"-ml-2 shrink-0",children:(0,s.jsx)(D.Z,{size:20})}),(0,s.jsx)("h2",{className:"font-styrene-display text-lg text-text-300 font-medium truncate",children:i})]}),(0,s.jsxs)("div",{className:"flex-1 pr-5 pb-3 overflow-y-auto",children:[(0,s.jsx)("h3",{className:"font-styrene-display text-lg font-medium leading-tight mb-1",children:a.title}),(0,s.jsx)("p",{className:"text-sm text-text-500 mb-2",children:a.metaData}),(0,s.jsxs)("p",{className:"text-xs text-text-500 mb-2 flex items-center gap-1",children:[(0,s.jsx)(M.Z,{size:12}),"Formatting may be inconsistent from source."]}),(0,s.jsxs)(U,{children:[r," "]})]})]})},U=h.Z.div(ContentSidebar_templateObject());var B=n(95892),W=n(22809),X=n(30773),T=n(1811),V=n(84529);let CopyUrlSection=e=>{let{id:t}=e,n=(e=>{let t=new URL("/share/",window.location.href);return"".concat(t).concat(e)})(t);return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between w-full",children:[(0,s.jsx)("input",{className:"grow box-border overflow-hidden whitespace-pre-wrap p-2 text-sm leading-5 font-sans text-stone-600 placeholder:text-stone-400 border-stone-200 border-[.1rem] transition-colors transition-transform rounded focus:border-blue-500 focus:ring-blue-500 disabled:bg-stone-50",readOnly:!0,value:n}),(0,s.jsx)(V.h,{textToCopy:n,children:(0,s.jsxs)(T.Z,{children:[(0,s.jsx)(V.f,{size:14,className:"mr-1 text-stone-300"}),(0,s.jsx)("span",{children:"Copy URL"})]})})]})})},ShareModalNav=()=>(0,s.jsx)("section",{children:(0,s.jsx)("ul",{className:"flex w-full items-start border-b border-stone-200 font-medium text-sm gap-4",children:(0,s.jsx)("li",{className:"py-2 text-ant-primary border-b-2 border-ant-primary font-semibold",children:"Share conversation"})})}),ShareConversationModalContent=e=>{let{id:t}=e;return(0,s.jsxs)("section",{className:"mt-6 flex flex-col gap-4 text-sm",children:[(0,s.jsxs)("p",{className:"",children:["Share a copy of this conversation with Claude. ",(0,s.jsx)("br",{})]}),(0,s.jsx)(CopyUrlSection,{id:t})]})},ShareButtonWithModal=e=>{let{conversationUuid:t,disabled:n=!1,setShowShareModal:r,showShareModal:i}=e,[l,o]=(0,j.useState)(""),{account:c}=(0,W.t)(),{mutateAsync:d}=(0,a.PD)(t);return(0,j.useEffect)(()=>{i&&c&&d({username:null==c?void 0:c.email_address}).then(e=>o(e.uuid))},[i,d,c]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F.Z,{text:"Share chat",side:"bottom",children:(0,s.jsx)(u.Z,{variant:"ghost",size:"icon_lg",option:"rounded",disabled:n,onClick:()=>{n||r(!0)},"data-testid":"share-button",children:(0,s.jsx)(f.Z,{size:20})})}),(0,s.jsxs)(_.ZP,{isOpen:i,onClose:()=>r(!1),children:[(0,s.jsx)(ShareModalNav,{}),!l&&(0,s.jsx)("div",{className:"mt-8 mb-4 w-full h-full flex justify-center items-center",children:(0,s.jsx)(X.Z,{})}),l&&(0,s.jsx)(ShareConversationModalContent,{id:l}),(0,s.jsx)(_.dm,{children:(0,s.jsx)(_.mH,{variant:"secondary",onClick:()=>r(!1),children:"Close"})})]})]})};function ClaudeChat_templateObject(){let e=(0,r._)(["\n  px-3\n  pt-16\n  pb-4\n  grid\n  gap-x-2\n  gap-y-3\n  auto-rows-max\n  flex-1\n"]);return ClaudeChat_templateObject=function(){return e},e}function ClaudeChat_templateObject1(){let e=(0,r._)(["\n  grid-template-columns: 2rem minmax(0, 1fr) 2rem;\n"]);return ClaudeChat_templateObject1=function(){return e},e}function ClaudeChat_templateObject2(){let e=(0,r._)(["\n  w-full\n  sticky\n  bottom-0\n  mx-auto\n"]);return ClaudeChat_templateObject2=function(){return e},e}function ClaudeChat(e){let{isStreaming:t,conversationUUID:n,messages:r,chatInputDefaultMessage:h,name:w,setName:_,abortStream:y,onRetry:C,onSend:N,sentMessageTokenCount:O}=e,{value:Z}=(0,g.useGate)("expose_share_flow"),{value:S}=(0,g.useGate)("expose_content_panel"),F=(0,j.useRef)(null),[P,D]=(0,j.useState)(!0),M=r.some(e=>e.is_edited),A=(0,j.useRef)(null),H=(0,j.useRef)(),E=(0,j.useCallback)(async e=>{let{prompt:n,attachments:r,messageTokenCount:s}=e;if(!t){H.current=()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.setContent(n,r)};try{await N({prompt:n,attachments:r,messageTokenCount:s,rethrowErrors:!0})}catch(e){var a;null===(a=H.current)||void 0===a||a.call(H)}finally{H.current=void 0}}},[t,N]),L=(0,b.useRouter)(),I=(0,b.usePathname)(),R=(0,b.useSearchParams)(),U=null==R?void 0:R.get("speak");(0,j.useEffect)(()=>{var e;if((null===(e=window)||void 0===e?void 0:e.speechSynthesis)===void 0||t||speechSynthesis.speaking||!U||!r.length)return;let n=new SpeechSynthesisUtterance(r[r.length-1].text);return speechSynthesis&&speechSynthesis.speak(n),()=>{var e;(null===(e=speechSynthesis)||void 0===e?void 0:e.speaking)&&speechSynthesis.cancel()}},[t,U]);let[W,X]=(0,j.useState)("");(0,j.useEffect)(()=>{t||X(r.map(e=>(0,a.lg)(e)).join(" "))},[r,t]);let T=(0,c.c)(W),[V,K]=(0,j.useState)(!1),[q,J]=(0,j.useState)(!1),Q=(0,j.useMemo)(()=>r.map(e=>e.attachments).flat(),[r]);return(0,s.jsxs)(v.Z,{ref:F,className:"w-full h-screen flex inset-0 overflow-y-auto overflow-x-hidden relative",disabled:0===r.length,onIsAtBottomChange:D,children:[(0,s.jsx)(ChatHeader,{uuid:n,name:w,setName:_}),(0,s.jsxs)(k.F,{children:[(0,s.jsxs)("div",{className:"md:flex flex-row-reverse gap-0.5 hidden",children:[(0,s.jsx)(k.I,{className:"ml-2"}),S&&(0,s.jsx)(ContentSidebarButton,{isOpen:V,setIsOpen:K,attachmentCount:Q.length}),!M&&Z&&r.length>0&&(0,s.jsx)(ShareButtonWithModal,{showShareModal:q,setShowShareModal:J,conversationUuid:n,disabled:t})]}),(S||Z)&&(0,s.jsx)("div",{className:"md:hidden -mr-2",children:(0,s.jsxs)(d.Lt,{className:"mr-2",onCloseAutoFocus:e=>{e.preventDefault()},trigger:(0,s.jsx)(u.Z,{variant:"ghost",size:"icon_lg",option:"rounded",children:(0,s.jsx)(p.Z,{size:24,weight:"bold"})}),children:[S&&(0,s.jsx)(d.hP,{onSelect:()=>K(!0),children:(0,s.jsxs)("div",{className:"flex items-center gap-2 py-1.5 px-1",children:[(0,s.jsx)(x.Z,{size:16})," Chat content"]})}),!M&&Z&&r.length>0&&(0,s.jsx)(d.hP,{onSelect:()=>J(!0),children:(0,s.jsxs)("div",{className:"flex items-center gap-2 py-1.5 px-1",children:[(0,s.jsx)(f.Z,{size:16})," Share chat"]})})]})})]}),(0,s.jsxs)("div",{className:"h-full flex-1 flex flex-col max-w-3xl mx-auto",children:[(0,s.jsx)(z.Z,{}),0===r.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{}),(0,s.jsx)(Y,{})]}):(0,s.jsx)(Y,{children:r.map((e,a)=>(0,s.jsx)(l.Z,{message:e,conversationUUID:n,isStreaming:t,potentiallySlow:T+(null!=O?O:0)>i.Hh,onRetry:()=>void C(),isLastMessage:a===r.length-1,onStopResponse:()=>{var e;y(),null===(e=H.current)||void 0===e||e.call(H)}},a))}),(0,s.jsx)(G,{children:(0,s.jsx)(i.ZP,{ref:A,conversationUUID:n,send:e=>{var t;h&&L.replace("".concat(I).concat((0,o.sn)(R,["q"]))),null===(t=F.current)||void 0===t||t.reset(),E(e)},isStreaming:t,defaultMessage:h,conversationTokensSoFar:T,allowAttachments:!0,isAtBottom:P,extraShortcutsHint:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("strong",{children:[(0,m.V)()?"⌘":"Ctrl + ","K"]})," to create a new chat"]})})})]}),(0,s.jsx)(ContentSidebar,{isOpen:V,setIsOpen:K,attachments:Q})]})}let Y=h.Z.div(ClaudeChat_templateObject()).css(ClaudeChat_templateObject1()),G=h.Z.div(ClaudeChat_templateObject2())},35476:function(e,t,n){n.d(t,{p:function(){return DeleteModal}});var r=n(27573),s=n(92867);let DeleteModal=e=>{let{isOpen:t=!1,onClose:n,onConfirm:a,modalTitle:i="Delete conversation",modalText:l="Are you sure you want to delete the conversation?"}=e;return(0,r.jsxs)(s.ZP,{title:i,isOpen:t,onClose:n,children:[l,(0,r.jsxs)(s.dm,{children:[(0,r.jsx)(s.mH,{"data-testid":"delete-chat-modal-confirm",onClick:a,children:"Delete"}),(0,r.jsx)(s.mH,{variant:"secondary",onClick:n,children:"Cancel"})]})]})}},24353:function(e,t,n){n.d(t,{F:function(){return w},I:function(){return UserMenu}});var r=n(58882),s=n(27573),a=n(22809),i=n(38338),l=n(13676),o=n(93729),c=n(89016),d=n(55616),u=n(41682),h=n(53108),m=n(9116),p=n(9466),x=n(64677),f=n.n(x),b=n(2056),j=n.n(b),g=n(32859),v=n(83127);function _templateObject(){let e=(0,r._)(["\n  fixed\n  top-2.5\n  z-10\n  left-[100vw]\n  -translate-x-full\n  -ml-3\n  -md:ml-3.5\n"]);return _templateObject=function(){return e},e}function UserMenu(e){let{className:t}=e,{account:n,activeOrganization:r,setActiveOrganizationUUID:o}=(0,a.t)(),d=null==n?void 0:n.memberships.map(e=>e.organization),m=d&&f()(d.filter(e=>e.capabilities.includes("chat")),"name"),p=null==d?void 0:d.some(e=>e.capabilities.includes("api")),x=(0,g.usePathname)(),b=(0,g.useRouter)();return(0,s.jsxs)(l.Lt,{align:"end",unstyledTrigger:!0,trigger:(0,s.jsx)(c.Z,{type:"button",variant:"unstyled",size:"icon_lg",option:"rounded",className:t,children:(0,s.jsx)(i.Z,{account:n,size:"lg"})}),className:"max-w-xs",children:[n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(AccountHeader,{account:n}),(0,s.jsx)(l.hP,{asChild:!0,children:(0,s.jsx)(j(),{href:"/settings/profile",children:"Account Settings"})}),(0,s.jsx)(l.u2,{})]}),m&&m.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.pb,{children:[(0,s.jsx)(l.HF,{children:"Your organizations"}),m.map(e=>(0,s.jsxs)(l.hP,{onSelect:()=>{x.startsWith("/chats/")&&b.push("/chats"),o(e.uuid)},children:[e.name,e.uuid===(null==r?void 0:r.uuid)&&(0,s.jsx)(u.Z,{className:"h-4 w-4 "})]},e.uuid))]}),(0,s.jsx)(l.u2,{})]}),p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.hP,{asChild:!0,children:(0,s.jsxs)(j(),{href:"https://console.anthropic.com/",target:"_blank",children:["API Console ",(0,s.jsx)(h.Z,{})]})}),(0,s.jsx)(l.u2,{})]}),(0,s.jsx)(l.hP,{asChild:!0,children:(0,s.jsxs)(j(),{href:"https://www.anthropic.com/",target:"_blank",children:["Anthropic ",(0,s.jsx)(h.Z,{})]})}),(0,s.jsx)(l.hP,{asChild:!0,children:(0,s.jsxs)(j(),{href:"https://support.anthropic.com/",target:"_blank",children:["Help & Support ",(0,s.jsx)(h.Z,{})]})}),(0,s.jsx)(l.hP,{asChild:!0,children:(0,s.jsxs)(j(),{href:"https://legal.anthropic.com/",target:"_blank",children:["Legal Center ",(0,s.jsx)(h.Z,{})]})}),(0,s.jsx)(l.u2,{}),(0,s.jsx)(l.hP,{asChild:!0,children:(0,s.jsx)(j(),{href:"/logout",children:"Log out"})})]})}let AccountHeader=e=>{let{account:t}=e,n=(0,a.ZJ)(),{activeOrganization:r}=(0,a.t)(),i=null==r?void 0:r.capabilities.includes("api"),{value:c}=(0,v.useGate)("claude-pro-disabled");return n?(0,s.jsx)(p.Xi,{asChild:!0,children:(0,s.jsxs)("div",{className:"bg-ant-primary text-white p-3 -m-1 mb-1",children:[(0,s.jsx)("div",{className:"text-sm mb-1.5 truncate",children:t.email_address}),(0,s.jsxs)(j(),{href:"/settings/billing",className:"inline-flex gap-1 bg-white/10 text-white/80 rounded-full px-2 pr-2.5 py-1 -ml-0.5 text-xs font-semibold",children:[(0,s.jsx)(o.Z,{})," Subscribed to Pro"]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.HF,{className:"text-sm truncate",title:t.email_address,children:t.email_address}),!i&&!c&&(0,s.jsx)(l.hP,{asChild:!0,children:(0,s.jsx)(j(),{role:"menuitem",href:"/settings/billing?action=subscribe",className:"block group hover:bg-white transition-colors border border-ant-primary/30 p-2 rounded ml-1 mr-1 mt-1 mb-2 text-sm",children:(0,s.jsxs)("div",{className:"text-stone-700",children:[(0,s.jsx)("div",{className:"mb-0.5",children:"Currently on limited free plan"}),(0,s.jsxs)("div",{className:"text-ant-primary font-semibold group-hover:underline flex items-center gap-1",children:["Subscribe to Pro"," ",(0,s.jsx)(m.Z,{className:"transition-all -translate-x-1 opacity-0 group-hover:translate-x-0 group-hover:opacity-100",size:"16"})]})]})})})]})},w=d.Z.div(_templateObject())},13676:function(e,t,n){n.d(t,{HF:function(){return d},Lt:function(){return Dropdown},hP:function(){return u},pb:function(){return c},u2:function(){return h}});var r=n(58882),s=n(27573),a=n(55616),i=n(9466);function _templateObject(){let e=(0,r._)(["\n  z-50\n  bg-bg-300\n  border-0.5\n  border-border-300\n  backdrop-blur-xl\n  rounded-lg\n  min-w-[8rem]\n  overflow-hidden\n  p-1\n  text-text-200\n  shadow-element\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n  rounded\n  py-1\n  px-2\n  max-w-full\n  whitespace-nowrap\n  text-ellipsis\n  overflow-hidden\n  outline-none\n  focus:ring\n  focus:backdrop-blur-xl\n  hover:backdrop-blur-xl\n  hover:bg-white/50\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["opacity-40 pt-1 px-2"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,r._)(["\n  py-1\n  px-2\n  rounded\n  cursor-pointer\n  whitespace-nowrap\n  overflow-hidden\n  text-ellipsis\n  grid\n  grid-cols-[minmax(0,_1fr)_auto]\n  gap-2\n  items-center\n  outline-none\n  select-none\n  [&[data-highlighted]]:bg-bg-500\n  [&[data-highlighted]]:text-text-000\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,r._)(["\n  h-[0.5px]\n  bg-black/10\n  m-1\n"]);return _templateObject4=function(){return e},e}function Dropdown(e){var t;let{trigger:n,children:r,unstyledTrigger:a=!1,theme:c="claude",...d}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(i.fC,{children:[a?(0,s.jsx)(i.xz,{asChild:!0,children:n}):(0,s.jsx)(o,{asChild:!0,children:n}),(0,s.jsx)(i.Uv,{children:(0,s.jsx)(i.VY,{"data-theme":c,sideOffset:null!==(t=d.sideOffset)&&void 0!==t?t:4,...d,asChild:!0,children:(0,s.jsx)(l,{children:r})})})]})})}n(7653);let l=a.Z.div(_templateObject()),o=(0,a.Z)(i.xz)(_templateObject1()),c=i.Qk,d=(0,a.Z)(i.Ju)(_templateObject2()),u=(0,a.Z)(i.ck)(_templateObject3()),h=(0,a.Z)(i.VD)(_templateObject4())},24006:function(e,t,n){n.d(t,{Q:function(){return ExpandingTextAreaInput},y:function(){return i}});var r=n(27573),s=n(90794),a=n(7653);function ExpandingTextAreaInput(e){let{value:t,placeholder:n,label:s="",name:a="",secondaryLabel:i="",disabled:l=!1,id:o,onChange:c,className:d="",...u}=e;return(0,r.jsxs)("div",{className:"flex-grow "+d,children:[(0,r.jsxs)("label",{htmlFor:"el",className:"text-sm font-medium",children:[s," ",i&&(0,r.jsxs)("span",{className:"font-normal text-stone-600 mb-2",children:["・ ",i]})]}),(0,r.jsxs)("div",{className:"relative flex items-center",children:[(0,r.jsx)("pre",{"aria-hidden":"true",className:"box-border overflow-hidden whitespace-pre-wrap p-2 text-sm leading-5 font-sans",children:t+"\n"}),(0,r.jsx)("textarea",{id:o,name:a||s,value:t,onChange:c,disabled:l,placeholder:n,className:" box-border overflow-hidden whitespace-pre-wrap p-2 text-sm leading-5 font-sans text-stone-600 placeholder:text-stone-400 border-stone-200 border-[.1rem] w-full h-full absolute top-0 resize-none transition-colors transition-transform rounded focus:border-blue-500 focus:ring-blue-500 disabled:bg-stone-50",...u})]})]})}let i=(0,a.forwardRef)((e,t)=>{let{label:n="",name:i="",secondaryLabel:l="",className:o="",type:c="text",required:d=!0,minLength:u=2,maxLength:h=1e3,disabled:m,onEnter:p,inputDataTestID:x,...f}=e,b=(0,a.useId)();return(0,r.jsx)("div",{className:o,children:(0,r.jsxs)("div",{className:"flex flex-col gap-1 items-start",children:[n&&(0,r.jsxs)("label",{htmlFor:b,className:"text-sm",children:[n," "]}),(0,r.jsx)("input",{ref:t,...x&&{"data-testid":x},id:b,type:c,name:i||n,disabled:m,className:(0,s.Z)("w-full box-border py-2 pl-4 text-sm leading-5 placeholder-stone-400 border-stone-200 bg-stone-50 transition-colors transition-transform rounded-lg focus:border-ant-primary focus:ring-ant-primary",{"cursor-not-allowed bg-stone-100":m}),required:d,minLength:u,maxLength:h,onKeyDown:e=>{"Enter"===e.key&&p&&p()},...f}),l&&(0,r.jsx)("p",{className:"font-normal text-stone-600",children:l})]})})});i.displayName="FormInput"},93729:function(e,t,n){n.d(t,{Z:function(){return AnthropicIcon}});var r=n(27573);function AnthropicIcon(e){let{size:t=16}=e;return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M11.54 2H9.09l4.46 12H16L11.54 2ZM4.46 2 0 14h2.5l.9-2.52h4.68L8.99 14h2.5L7.02 2H4.46Zm-.24 7.25 1.52-4.22 1.53 4.22H4.22Z"})})}},89016:function(e,t,n){var r=n(58882),s=n(27573),a=n(69484),i=n(90794),l=n(2056),o=n.n(l),c=n(7653),d=n(58943),u=n(30773);function _templateObject(){let e=(0,r._)(["\n  &.btn--primary {\n    background-color: hsl(var(--accent-main-100));\n    background-image: linear-gradient(\n      to right,\n      hsl(var(--accent-main-100)),\n      hsl(var(--accent-main-200) / 0.5),\n      hsl(var(--accent-main-200))\n    );\n    background-size: 200% auto;\n    transition: background-position 150ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\n\n    &:hover {\n      background-position: 100% 0;\n    }\n\n    &:active {\n      background-color: hsl(var(--accent-main-000));\n      background-image: none;\n    }\n  }\n"]);return _templateObject=function(){return e},e}let h=(0,a.j)("inline-flex\n  items-center\n  justify-center\n  transition-colors\n  relative\n  ring-offset-2\n  ring-offset-bg-300\n  ring-accent-main-100\n  focus-visible:outline-none\n  focus-visible:ring-1\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"\n          btn--primary\n          border-0.5\n          border-border-300\n          text-oncolor-100\n          font-medium\n          font-styrene-display\n          drop-shadow-sm\n          transition-all\n          shadow-[inset_0_0.5px_0px_rgba(255,255,0,0.15)]\n          [text-shadow:_0_1px_2px_rgb(0_0_0_/_10%)]\n          active:shadow-[inset_0_1px_6px_rgba(0,0,0,0.2)]\n          hover:from-accent-main-200\n          hover:to-accent-main-200",flat:"bg-accent-main-100\n          text-oncolor-100\n          font-medium\n          font-styrene-display\n          hover:bg-accent-main-200",secondary:"\n          bg-[radial-gradient(ellipse,_var(--tw-gradient-stops))]\n          from-bg-500/10\n          from-50%\n          to-bg-500/30\n          border-0.5\n          border-border-400\n          font-medium\n          font-styrene-display\n          text-text-100/90\n          active:bg-bg-500/50\n          hover:text-text-000\n          hover:bg-bg-500/60",outline:"border-1.5\n          font-medium\n          font-styrene-display\n          bg-transparent\n          hover:bg-bg-400\n          hover:border-bg-400",ghost:"text-text-200\n          transition-all\n          font-styrene-display\n          active:bg-bg-400\n          hover:bg-bg-300\n          hover:text-text-100",underline:"opacity-80\n          transition-all\n          active:scale-[0.985]\n          hover:opacity-100\n          hover:underline\n          underline-offset-3",danger:"bg-rose-600\n          text-oncolor-100\n          font-medium\n          font-styrene-display\n          hover:bg-rose-700",unstyled:""},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 text-xs min-w-[4rem] active:scale-[0.985] whitespace-nowrap",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95",inline:"px-0.5 rounded-[0.25rem]",unset:""},option:{rounded:"!rounded-full",prepend:"",append:""},state:{active:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"},{variant:"ghost",state:"active",class:"!bg-bg-400"}],defaultVariants:{variant:"primary",size:"default"}}),m=(0,c.forwardRef)((e,t)=>{let{className:n,variant:r,size:a,option:l,loading:c,href:d,target:m,prepend:x,append:f,state:b,...j}=e;x&&(l="prepend"),f&&(l="append");let g=(0,i.Z)(h({variant:r,size:a,option:l,state:b,className:n}),c&&"text-transparent"),v=(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)(u.Z,{size:"sm"})}),x,j.children,f]});return d?(0,s.jsx)(o(),{href:d,target:m||"_self",className:g,children:v}):(0,s.jsx)(p,{className:g,ref:t,disabled:j.disabled||c,...j,children:v})});m.displayName="Button";let p=d.ZP.button.withConfig({componentId:"sc-d534251d-0"})(_templateObject());t.Z=m}}]);